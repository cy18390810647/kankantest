# -*- coding:utf-8 -*-
from mako import runtime, filters, cache
UNDEFINED = runtime.UNDEFINED
STOP_RENDERING = runtime.STOP_RENDERING
__M_dict_builtin = dict
__M_locals_builtin = locals
_magic_number = 10
_modified_time = 1559373881.733
_enable_loop = True
_template_filename = 'C:/Users/X230/PycharmProjects/LanhuSaas/framework/templates/main/maintenanceIndex.html'
_template_uri = './main/maintenanceIndex.html'
_source_encoding = 'utf-8'
_exports = []


def render_body(context,**pageargs):
    __M_caller = context.caller_stack._push_frame()
    try:
        __M_locals = __M_dict_builtin(pageargs=pageargs)
        STATIC_URL = context.get('STATIC_URL', UNDEFINED)
        SITE_URL = context.get('SITE_URL', UNDEFINED)
        __M_writer = context.writer()
        __M_writer(u'<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <title>\u7ef4\u62a4\u4eba\u5458\u9996\u9875</title>\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/element-2.4.11/index.css">\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/maintenanceIndex/maintenanceIndex.css">\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/jquery-3.1.1.min.js"></script>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/vue.js"></script>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/element-2.4.11/index.js"></script>\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/axios.min.js"></script>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/echarts/echarts.js"></script>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/echarts/macarons.js"></script>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/maintenanceIndex/maintenanceIndex.js"></script>\r\n\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/net/iconfont.css">\r\n    <script type="text/javascript"\r\n            src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/net/jsplumb.min.js"></script>\r\n    <link rel="stylesheet"\r\n          href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/net/jsPlumbToolkit-defaults.css"/>\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/dataflow/dataflow.js"></script>\r\n    <link rel="stylesheet" href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/monitorScene/dataflow-index.css">\r\n    <script type="text/javascript" src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/Component-based.js"></script>\r\n    <link href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet">\r\n</head>\r\n<style>\r\n    .key {\r\n        line-height: 40px;\r\n    }\r\n\r\n    ul {\r\n        list-style: none;\r\n    }\r\n    div{border-radius: 5px;}\r\n    .el-row {\r\n        border: none;\r\n    }\r\n    .row_margin{\r\n        margin-bottom: 20px\r\n    }\r\n    .row_shadow{\r\n        box-shadow: 1px 1px 5px rgba(102,102,102,0.3);\r\n    }\r\n\r\n    .el-col {\r\n        border: none;\r\n    }\r\n\r\n    .p_class{\r\n        font-family: PingFang-SC-Medium;\r\n        font-size: 16px;\r\n        color: rgba(0,0,0,0.85);\r\n        line-height: 44px;\r\n        margin-left: 20px;\r\n        position: absolute;\r\n    }\r\n\r\n    .score_input {\r\n        font-size: 16px;\r\n        position: absolute;\r\n        background: rgba(255, 255, 255, 0.1);\r\n        top: -36px;\r\n        left: 0;\r\n        width: 50px;\r\n        height: 36px;\r\n        display: none;\r\n    }\r\n\r\n    .right_click {\r\n        position: absolute;\r\n        width: 100px;\r\n        display: none;\r\n    }\r\n\r\n    .right_click span {\r\n        width: 100px;\r\n        display: inline-block;\r\n        font-size: 16px;\r\n        line-height: 36px;\r\n    }\r\n    .title{\r\n        background: rgb(255,255,255);\r\n        line-height: 72px\r\n    }\r\n    .el-collapse-item__header{\r\n        border-bottom: 2px solid #f6f6f6!important;\r\n        line-height: 54px!important;\r\n    }\r\n    .title .el-select .el-input__inner {\r\n\r\n        font-size: 16px;\r\n        font-family: PingFangSC-Medium;\r\n        color: #303133;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .span_style{\r\n        display:block;\r\n        text-align:center;\r\n        line-height:55px;\r\n        width: 100%;\r\n        height: 55px;\r\n        border-radius: 5px;\r\n    }\r\n    .error{background:red}\r\n    .success{background:#409EFF}\r\n    .progress{background:orange}\r\n    .green{\r\n        background:#67C23A\r\n    }\r\n    .green{\r\n        background:#67C23A\r\n    }\r\n    .red{\r\n        background:#F56C6C\r\n    }\r\n    .gray{\r\n        background:#C1C1C1\r\n    }\r\n    .yellow{\r\n        background:#E6A23C\r\n    }\r\n    .red_class{\r\n        color:red\r\n    }\r\n    .blue_class{\r\n        color:blue\r\n    }\r\n    .orange_class{\r\n        color:orange;\r\n    }\r\n    .grey_class{\r\n        color: #B0B8C2;\r\n    }\r\n    .el-col-3 {\r\n        width: 20%;\r\n    }\r\n</style>\r\n\r\n<body style="background: rgb(246,246,246);overflow-y: visible;">\r\n<div id="maintenanceIndex">\r\n    <!--\u9996\u9875-->\r\n    <el-row>\r\n        <el-col :span="24">\r\n            <div id="maintenanceTitle" style="background: rgb(246,246,246)">\r\n                <span style="font-size: 18px;font-family: PingFangSC-Regular;color: rgba(0,0,0,0.85);margin-left: 10px">\u9996\u9875</span>\r\n            </div>\r\n        </el-col>\r\n    </el-row>\r\n    <!--\u9996\u9875\u5185\u5bb9-->\r\n    <el-row>\r\n        <!--\u7cfb\u7edf\u72b6\u6001-->\r\n        <el-row class="row_margin row_shadow">\r\n            <el-col :span="24">\r\n                <div id="system_state" class="title">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u7cfb\u7edf\u72b6\u6001</span>\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;float: right;margin-right: 10px" v-text="now_date_name+now_date_time"></span>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <!--\u5065\u5eb7\u5ea6-->\r\n        <el-row :gutter="30" class="row_margin">\r\n            <el-col :span="8">\r\n                <div class="row_shadow" style="width: 100%;height: 200px;background: rgb(255,255,255);">\r\n                    <p class="p_class">\u5065\u5eb7\u5ea6</p>\r\n                    <div style="text-align: center;padding-top: 44px">\r\n                        <el-progress id="health_degree" type="circle" :percentage="percentage" status="text" >{{ percentage }}%</el-progress>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span="8">\r\n                <div class="row_shadow" style="width: 100%;height: 200px;background: rgb(255,255,255);">\r\n                    <p class="p_class">\u573a\u666f\u72b6\u6001</p>\r\n                    <div style="text-align: center;width: 95%;height: 200px" id="maintenancePie1">\r\n\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span="8">\r\n                <div class="row_shadow" style="width: 100%;height: 200px;background: rgb(255,255,255);">\r\n                    <p class="p_class">\u544a\u8b66\u6570</p>\r\n                    <div style="text-align: center;padding-top: 44px">\r\n                        <el-progress type="circle" :percentage="100" status="text" color="red">{{ alert_number }}</el-progress>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n           <!-- <el-col :span="6">\r\n                <div class="row_shadow" style="width: 100%;height: 200px;background: rgb(255,255,255);">\r\n                    <p class="p_class">\u81ea\u5b9a\u4e49\u6dfb\u52a0</p>\r\n                    <div style="text-align: center;padding-top: 80px">\r\n                        <i class="fa fa-3x fa-plus" style="color: #D8D8D8"></i>\r\n                    </div>\r\n                </div>\r\n            </el-col> -->\r\n        </el-row>\r\n        <!--\u5404\u7cfb\u7edf\u8fd0\u884c\u60c5\u51b5\u5c55\u793a-->\r\n        <el-row class="row_shadow">\r\n            <el-col :span="24">\r\n                <div id="system_run_show" class="title" style="margin-bottom: 5px">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u5404\u7cfb\u7edf\u8fd0\u884c\u60c5\u51b5\u5c55\u793a</span>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <!--\u60c5\u51b5\u5c55\u793a-->\r\n        <el-row :gutter="10" style="margin: 0 0 20px 0;background: rgb(255,255,255);">\r\n            <el-col v-for="(i,index) in system_run_data" :key="index" :span="3" style="margin: 20px auto">\r\n                <span class="span_style" :class="i.color">{{ i.name }}</span>\r\n            </el-col>\r\n\r\n        </el-row>\r\n        <!--\u544a\u8b66-->\r\n        <el-row class="row_shadow" style="margin-bottom: 10px;">\r\n            <el-col :span="24" style="border: none">\r\n                <div id="system_run_show" style="background: rgb(255,255,255);line-height: 72px;">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u544a\u8b66</span>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row id="alert_temp" class="row_margin row_shadow" style="margin-bottom: 10px;background: rgb(255,255,255);">\r\n            <el-col :span="20" :offset="4" class="title" style="border-bottom: 2px solid #f6f6f6">\r\n                <el-col :span="3"> <label for="" style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;">\u544a\u8b66\u7ea7\u522b\uff1a</label></el-col>\r\n                <el-col :span="4"><el-select v-model="alertTypeVal" placeholder="\u5168\u90e8">\r\n                            <el-option\r\n                              v-for="item in alertTypeOpt"\r\n                              :key="item.value"\r\n                              :label="item.label"\r\n                              :value="item.value">\r\n                            </el-option>\r\n                        </el-select></el-col>\r\n                <el-col :span="6">\r\n                    <el-select v-model="alertTimeVal">\r\n                        <el-option\r\n                            v-for="item in alertTimeOpt"\r\n                            :key="item.value"\r\n                            :label="item.label"\r\n                            :value="item.value"></el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span="5">\r\n                  <el-button type="primary" @click="get_alert_data" style="float:right;margin:20px 20px 0 0;font-size: 16px;font-family: PingFangSC-Medium;color: rgb(255, 255, 255);;font-weight: bold;">\u67e5\u8be2</el-button>\r\n                </el-col>\r\n        </el-col>\r\n            <el-col :span="24">\r\n                        <el-col :span="22" :offset="1">\r\n                            <el-table  max-height="200" :data="alert_table_data" style="width: 100%;margin-bottom: 50px;">\r\n                                <el-table-column prop="alert_txt" label="\u8b66\u544a\u5185\u5bb9" width="350"></el-table-column>\r\n                                <el-table-column prop="alert_time" label="\u65f6\u95f4" width="350"></el-table-column>\r\n                                <el-table-column prop="alert_level_name" label="\u7ea7\u522b" width="350">\r\n\r\n                                </el-table-column>\r\n                                <el-table-column prop="alert_status_name" label="\u72b6\u6001" width="350"></el-table-column>\r\n\r\n                            </el-table>\r\n                        </el-col>\r\n            </el-col>\r\n        </el-row>\r\n        <!--\u573a\u666f-->\r\n        <el-row class="row_shadow" style="margin-bottom: 10px;">\r\n            <el-col :span="24" style="border: none">\r\n                <div id="system_run_show" style="background: rgb(255,255,255);line-height: 72px;">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u573a\u666f</span>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <!--\u573a\u666f\u5185\u5bb9-->\r\n        <el-row class="row_shadow" style="margin-bottom: 10px;background: rgb(255,255,255);">\r\n            <el-col :span="24"class="title" style="border-bottom: 2px solid #f6f6f6">\r\n                <el-col :span="7" :offset="1">\r\n                    <label for="" style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;">\u573a\u666f\uff1a</label>\r\n                    <el-select v-model="value1" placeholder="\u8bf7\u9009\u62e9">\r\n                        <el-option\r\n                          v-for="item in options1"\r\n                          :key="item.value"\r\n                          :label="item.label"\r\n                          :value="item.value">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span="7" :offset="1">\r\n                    <label for="" style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;">\u72b6\u6001\uff1a</label>\r\n                    <el-select v-model="value2" placeholder="\u8bf7\u9009\u62e9">\r\n                        <el-option\r\n                          v-for="item in options2"\r\n                          :key="item.value"\r\n                          :label="item.label"\r\n                          :value="item.value">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span="8">\r\n                    <el-button type="primary" onclick="ve.query_scene_data()" style="float:right;margin:20px 20px 0 0;font-size: 16px;font-family: PingFangSC-Medium;color: rgb(255, 255, 255);;font-weight: bold;">\u67e5\u8be2</el-button>\r\n                </el-col>\r\n            </el-col>\r\n            <el-col :span="22" :offset="1">\r\n                <el-table max-height="200" :data="scene_table_data" style="heigth:300px;width: 100%;margin-bottom: 50px;">\r\n                  <el-table-column prop="scene_id" label="\u573a\u666fid" width="80px" ></el-table-column>\r\n                  <el-table-column prop="scene_name" :show-overflow-tooltip="true" label="\u573a\u666f\u540d\u79f0" width="200px" ></el-table-column>\r\n                  <el-table-column prop="scene_node" :show-overflow-tooltip="true" label="\u8282\u70b9\u540d\u79f0" width="300px"></el-table-column>\r\n                  <el-table-column prop="start_time" label="\u5f00\u59cb\u65f6\u95f4"  ></el-table-column>\r\n                  <el-table-column prop="end_time" label="\u622a\u81f3\u65f6\u95f4"  ></el-table-column>\r\n                  <el-table-column prop="scene_status" label="\u72b6\u6001">\r\n                      <template scope="scope">\r\n                          <span :class="{red_class: scope.row.scene_status === \'\u5f02\u5e38\', orange_class: (scope.row.scene_status === \'\u63d0\u9192\'),grey_class: (scope.row.scene_status === \'\u672a\u6267\u884c\')}">{{ scope.row.scene_status }}</span>\r\n                      </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n            </el-col>\r\n        </el-row>\r\n        <!--\u81ea\u5b9a\u4e49\u67e5\u8be2\r\n        <el-row class="row_margin row_shadow">\r\n            <el-col :span="24">\r\n                <el-collapse accordion>\r\n                    <el-collapse-item>\r\n                        <template slot="title">\r\n                            <span style="line-height:54px;font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u81ea\u5b9a\u4e49\u67e5\u8be2</span>\r\n                        </template>\r\n                        <el-col :span="22" :offset="1">\r\n                            <el-table :data="customQueryTableData" style="width: 100%;margin-bottom: 50px;">\r\n                                <el-table-column prop="id" label="\u5e8f\u53f7" width="80"></el-table-column>\r\n                                <el-table-column prop="query_name" label="\u67e5\u8be2\u540d\u79f0" width="120"></el-table-column>\r\n                                <el-table-column prop="show_type" label="\u663e\u793a\u7c7b\u578b" width="120"></el-table-column>\r\n                                <el-table-column prop="query_sql" label="\u67e5\u8be2SQL" width="950"></el-table-column>\r\n                            </el-table>\r\n                        </el-col>\r\n                    </el-collapse-item>\r\n                </el-collapse>\r\n            </el-col>\r\n        </el-row>-->\r\n        <!--\u81ea\u5b9a\u4e49\u6dfb\u52a0-->\r\n        <!--<el-row class="row_margin row_shadow">\r\n            <el-col :span="24">\r\n                <div id="system_state" class="title">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u81ea\u5b9a\u4e49\u6dfb\u52a0</span>\r\n                    <span style="font-size: 30px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;float: right;margin-right: 20px"><i class="el-icon-circle-plus-outline"></i></span>\r\n                </div>\r\n            </el-col>\r\n        </el-row>-->\r\n    <!--</el-row>-->\r\n    <!--\u573a\u666f\u8be6\u60c5-->\r\n    <!--<el-row>-->\r\n        <!--\u7cfb\u7edf\u72b6\u6001-->\r\n       <!-- <el-row class="row_margin row_shadow">\r\n            <el-col :span="24">\r\n                <div id="system_state" class="title">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u7cfb\u7edf\u72b6\u6001</span>\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;float: right;margin-right: 10px" v-text="now_date_name+now_date_time"></span>\r\n                </div>\r\n            </el-col>\r\n        </el-row>-->\r\n        <!--\u4e1a\u52a1\u91cf\u5cf0\u503c-->\r\n       <!-- <el-row :gutter="30" class="row_margin">\r\n            <el-col :span="6">\r\n                <div id="business_peak1" class="row_shadow" style="width: 100%;height: 300px;background: rgb(255,255,255);">\r\n\r\n                </div>\r\n            </el-col>\r\n            <el-col :span="6">\r\n                <div id="business_peak2" class="row_shadow" style="width: 100%;height: 300px;background: rgb(255,255,255);">\r\n\r\n                </div>\r\n            </el-col>\r\n            <el-col :span="6">\r\n                <div id="business_peak3" class="row_shadow" style="width: 100%;height: 300px;background: rgb(255,255,255);">\r\n\r\n                </div>\r\n            </el-col>\r\n            <el-col :span="6">\r\n                <div id="business_peak4" class="row_shadow" style="width: 100%;height: 300px;background: rgb(255,255,255);">\r\n\r\n                </div>\r\n            </el-col>\r\n        </el-row>-->\r\n        <!--\u573a\u666f\u6d41\u7a0b-->\r\n        <!--<el-row class="row_margin row_shadow">\r\n            <el-col :span="24">\r\n                <div id="system_state" class="title">\r\n                    <span style="font-size: 16px;font-family: PingFangSC-Medium;color: #303133;font-weight: bold;margin-left: 20px">\u573a\u666f\u6d41\u7a0b</span>\r\n                    <div class="scene_flow_content" style="background: black;width: 100%;height: 1200px"></div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>-->\r\n    </el-row>\r\n</div>\r\n</body>\r\n<script type="text/javascript">\r\n    axios.interceptors.request.use((config) => {\r\n        config.headers[\'X-Requested-With\'] = \'XMLHttpRequest\';\r\n        let regex = /.*csrftoken=([^;.]*).*$/; // \u7528\u4e8e\u4ececookie\u4e2d\u5339\u914d csrftoken\u503c\r\n        config.headers[\'X-CSRFToken\'] = document.cookie.match(regex) === null ? null : document.cookie.match(regex)[1];\r\n        return config\r\n    });\r\n    var ve = new Vue({\r\n        el: \'#maintenanceIndex\',\r\n        data: {\r\n            percentage:0,\r\n            customQueryTableData: null,\r\n            options1: [],\r\n            value1:\'\',\r\n            options2: [\r\n                {value:\'-1\',label:\'\u5168\u90e8\'},\r\n                {value: \'0\',label: \'\u6b63\u5728\u6267\u884c\'},\r\n                {value: \'1\', label: \'\u5f02\u5e38\'},\r\n                {value: \'2\', label: \'\u63d0\u9192\'},\r\n                {value: \'3\', label: \'\u672a\u6267\u884c\'}\r\n                ],\r\n            value2: \'-1\',\r\n            alertTypeOpt:[\r\n                {value:"-1",label:"\u5168\u90e8"},\r\n                {value:"NOBROKER",label:"\u544a\u8b66"},\r\n                {value:"PROBLEM",label:"\u901a\u77e5"},\r\n                {value:"OK",label:"\u6062\u590d"},\r\n            ],\r\n            alertTypeVal:\'-1\', //\u8b66\u544a\u7c7b\u522b\r\n            alertTimeOpt:[\r\n                {value:5,label:"5\u5206\u949f"},\r\n                {value:15,label:"15\u5206\u949f"},\r\n                {value:30,label:"30\u5206\u949f"},\r\n                {value:60,label:"1\u5c0f\u65f6"},\r\n                {value:60*3,label:"3\u5c0f\u65f6"},\r\n                {value:60*6,label:"6\u5c0f\u65f6"},\r\n                {value:60*12,label:"12\u5c0f\u65f6"},\r\n                {value:60*24,label:"1\u5929"},\r\n                {value:60*24*2,label:"2\u5929"},\r\n                {value:60*24*3,label:"3\u5929"},\r\n                {value:60*24*5,label:"5\u5929"},\r\n                {value:60*24*7,label:"1\u5468"},\r\n                {value:60*24*15,label:"15\u5929"},\r\n                {value:60*24*30,label:"30\u5929"},\r\n            ],\r\n            alertTimeVal:60*24, // \u544a\u8b66\u65f6\u95f4\u6bb5\r\n            scene_table_data: [\r\n              ],\r\n            ring_chart:\'\',\r\n            line_chart1:\'\',\r\n            line_chart2:\'\',\r\n            line_chart3:\'\',\r\n            line_chart4:\'\',\r\n            alert_number:0,\r\n            system_run_data:[],\r\n            alert_table_data:[],          //\u544a\u8b66\u8868\u683c\u6570\u636e\r\n            now_date_time:\'\',\r\n            now_date_name:\'\',\r\n            scene_chart_data:[],\r\n            interval:10,  //\u9996\u9875\u5237\u65b0\u9891\u7387\uff0c\u9ed8\u8ba410\u79d2\uff0c\u6570\u636e\u5e93\u4e2d\u53e6\u6709\u914d\u7f6e\r\n            time_rub:null,\r\n        },\r\n        methods: {\r\n            //\u53d6\u914d\u7f6e\u7684\u5237\u65b0\u9891\u7387\r\n            get_time_interval(){\r\n                axios({\r\n                    method: \'post\',\r\n                    data:{\r\n                    code:"home_page_cycle"\r\n                    },\r\n                    url:  \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'monitor_scene/open_scene_design/\',\r\n                }).then((res) => {\r\n                    if(res && res.data && res.data.time_interval && res.data.time_interval != ""){\r\n                        var regu = /^\\+?[1-9][0-9]*$/;\r\n                        //\u5237\u65b0\u9891\u7387\u53ea\u80fd\u662f\u975e0\u6b63\u6574\u6570\r\n                        if(regu.test(res.data.time_interval)){\r\n                            if(res.data.time_interval != ve.interval){\r\n                                ve.interval = res.data.time_interval;\r\n                                //\u6e05\u7a7a\u5b9a\u65f6\u4efb\u52a1\r\n                                clearInterval(ve.time_rub)\r\n                                //\u91cd\u65b0\u542f\u52a8\u5b9a\u65f6\u4efb\u52a1\r\n                                ve.time_task()\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            time_task(){//\u542f\u52a8\u5b9a\u65f6\u4efb\u52a1\r\n                ve.time_rub = setInterval(function () {\r\n                    ve.get_date();\r\n                    ve.get_monitor_scene_item();\r\n                    ve.get_alert_data();\r\n                },ve.interval * 1000);\r\n            },\r\n            show_ring_chart(){\r\n                if (this.ring_chart != null && this.ring_chart != "" && this.ring_chart != undefined) {\r\n                    this.ring_chart.dispose();\r\n                }\r\n                this.ring_chart = echarts.init(document.getElementById(\'maintenancePie1\'), \'macarons\');\r\n                var option = {\r\n                    tooltip : {\r\n                        trigger: \'item\',\r\n                        formatter: "{a} <br/>{b} : {c} ({d}%)"\r\n                    },\r\n                    color:[\'red\',\'orange\',\'#409EFF\'],\r\n                    legend: {\r\n                        orient : \'vertical\',\r\n                        x : \'right\',\r\n                        y : \'bottom\',\r\n                        data:[\'\u5371\u9669\',\'\u9884\u8b66\',\'\u6b63\u5e38\']\r\n                    },\r\n                    calculable : true,\r\n                    series : [\r\n                        {\r\n                            name:\'\u8bbf\u95ee\u6765\u6e90\',\r\n                            type:\'pie\',\r\n                            radius : [\'50%\', \'60%\'],\r\n                            itemStyle : {\r\n                                normal : {\r\n                                    label : {\r\n                                        show : false\r\n                                    },\r\n                                    labelLine : {\r\n                                        show : false\r\n                                    }\r\n                                },\r\n                                emphasis : {\r\n                                    label : {\r\n                                        show : true,\r\n                                        position : \'center\',\r\n                                        textStyle : {\r\n                                            fontSize : \'16\',\r\n                                            fontWeight : \'bold\'\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            data:ve.scene_chart_data\r\n                        }\r\n                    ]\r\n                };\r\n                this.ring_chart.setOption(option);\r\n            },\r\n            show_line_chart(){\r\n                if (this.line_chart1 != null && this.line_chart1 != "" && this.line_chart1 != undefined) {\r\n                    this.line_chart1.dispose();\r\n                }\r\n                if (this.line_chart2 != null && this.line_chart2 != "" && this.line_chart2 != undefined) {\r\n                    this.line_chart2.dispose();\r\n                }\r\n                if (this.line_chart3 != null && this.line_chart3 != "" && this.line_chart3 != undefined) {\r\n                    this.line_chart3.dispose();\r\n                }\r\n                if (this.line_chart4 != null && this.line_chart4 != "" && this.line_chart4 != undefined) {\r\n                    this.line_chart4.dispose();\r\n                }\r\n                this.line_chart1 = echarts.init(document.getElementById(\'business_peak1\'), \'default\');\r\n                this.line_chart2 = echarts.init(document.getElementById(\'business_peak2\'), \'default\');\r\n                this.line_chart3 = echarts.init(document.getElementById(\'business_peak3\'), \'default\');\r\n                this.line_chart4 = echarts.init(document.getElementById(\'business_peak4\'), \'default\');\r\n                var option1 = {\r\n                    title : {\r\n                        text: \'\u4e1a\u52a1\u91cf\u5cf0\u503c\',\r\n                    },\r\n                    tooltip : {\r\n                        trigger: \'axis\'\r\n                    },\r\n                    legend: {\r\n                        data:[\'\u5f53\u524d\u503c\',\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\'],\r\n                        orient : \'vertical\',\r\n                        x : \'right\',\r\n                    },\r\n                    calculable : true,\r\n                    xAxis : [\r\n                        {\r\n                            type : \'category\',\r\n                            boundaryGap : false,\r\n                            data : [\'1\',\'2\',\'3\',\'4\',\'5\',\'6\',\'7\',\'8\',\'9\',\'10\',\'11\',\'12\',\'13\',\'14\',\'15\']\r\n                        }\r\n                    ],\r\n                    yAxis : [\r\n                        {\r\n                            type : \'value\',\r\n                        }\r\n                    ],\r\n                    series : [\r\n                        {\r\n                            name:\'\u5f53\u524d\u503c\',\r\n                            type:\'line\',\r\n                            data:[211, 311, 215, 813, 412, 613, 210, 811, 171, 165, 513, 192, 153, 210, 150],\r\n                        },\r\n                        {\r\n                            name:\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\',\r\n                            type:\'line\',\r\n                            data:[412, 613, 210, 813, 215, 813, 412, 613, 210, 811, 13, 210, 811, 171, 165,],\r\n\r\n                        }\r\n                    ]\r\n                };\r\n                var option2 = {\r\n                    title : {\r\n                        text: \'CPU\',\r\n                    },\r\n                    tooltip : {\r\n                        trigger: \'axis\'\r\n                    },\r\n                    legend: {\r\n                        data:[\'\u5f53\u524d\u503c\',\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\'],\r\n                        orient : \'vertical\',\r\n                        x : \'right\',\r\n                    },\r\n                    calculable : true,\r\n                    xAxis : [\r\n                        {\r\n                            type : \'category\',\r\n                            boundaryGap : false,\r\n                            data : [\'1\',\'2\',\'3\',\'4\',\'5\',\'6\',\'7\',\'8\',\'9\',\'10\',\'11\',\'12\',\'13\',\'14\',\'15\']\r\n                        }\r\n                    ],\r\n                    yAxis : [\r\n                        {\r\n                            type : \'value\',\r\n                        }\r\n                    ],\r\n                    series : [\r\n                        {\r\n                            name:\'\u5f53\u524d\u503c\',\r\n                            type:\'line\',\r\n                            data:[211, 311, 215, 813, 412, 613, 210, 811, 171, 165, 513, 192, 153, 210, 150],\r\n                        },\r\n                        {\r\n                            name:\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\',\r\n                            type:\'line\',\r\n                            data:[412, 613, 210, 813, 215, 813, 412, 613, 210, 811, 13, 210, 811, 171, 165,],\r\n\r\n                        }\r\n                    ]\r\n                };\r\n                var option3 = {\r\n                    title : {\r\n                        text: \'\u4e1a\u52a1\u5ef6\u65f6\',\r\n                    },\r\n                    tooltip : {\r\n                        trigger: \'axis\'\r\n                    },\r\n                    legend: {\r\n                        data:[\'\u5f53\u524d\u503c\',\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\'],\r\n                        orient : \'vertical\',\r\n                        x : \'right\',\r\n                    },\r\n                    calculable : true,\r\n                    xAxis : [\r\n                        {\r\n                            type : \'category\',\r\n                            boundaryGap : false,\r\n                            data : [\'1\',\'2\',\'3\',\'4\',\'5\',\'6\',\'7\',\'8\',\'9\',\'10\',\'11\',\'12\',\'13\',\'14\',\'15\']\r\n                        }\r\n                    ],\r\n                    yAxis : [\r\n                        {\r\n                            type : \'value\',\r\n                        }\r\n                    ],\r\n                    series : [\r\n                        {\r\n                            name:\'\u5f53\u524d\u503c\',\r\n                            type:\'line\',\r\n                            data:[211, 311, 215, 813, 412, 613, 210, 811, 171, 165, 513, 192, 153, 210, 150],\r\n                        },\r\n                        {\r\n                            name:\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\',\r\n                            type:\'line\',\r\n                            data:[412, 613, 210, 813, 215, 813, 412, 613, 210, 811, 13, 210, 811, 171, 165,],\r\n\r\n                        }\r\n                    ]\r\n                };\r\n                var option4 = {\r\n                    title : {\r\n                        text: \'99%\u6c34\u4f4d\u4e1a\u52a1\u6307\u6807\u7684\u65f6\u5ef6\',\r\n                    },\r\n                    tooltip : {\r\n                        trigger: \'axis\'\r\n                    },\r\n                    legend: {\r\n                        data:[\'\u5f53\u524d\u503c\',\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\'],\r\n                        orient : \'vertical\',\r\n                        x : \'right\',\r\n                    },\r\n                    calculable : true,\r\n                    xAxis : [\r\n                        {\r\n                            type : \'category\',\r\n                            boundaryGap : false,\r\n                            data : [\'1\',\'2\',\'3\',\'4\',\'5\',\'6\',\'7\',\'8\',\'9\',\'10\',\'11\',\'12\',\'13\',\'14\',\'15\']\r\n                        }\r\n                    ],\r\n                    yAxis : [\r\n                        {\r\n                            type : \'value\',\r\n                        }\r\n                    ],\r\n                    series : [\r\n                        {\r\n                            name:\'\u5f53\u524d\u503c\',\r\n                            type:\'line\',\r\n                            data:[211, 311, 215, 813, 412, 613, 210, 811, 171, 165, 513, 192, 153, 210, 150],\r\n                        },\r\n                        {\r\n                            name:\'\u524d\u4e94\u65e5\u5e73\u5747\u503c\',\r\n                            type:\'line\',\r\n                            data:[412, 613, 210, 813, 215, 813, 412, 613, 210, 811, 13, 210, 811, 171, 165,],\r\n\r\n                        }\r\n                    ]\r\n                };\r\n                this.line_chart1.setOption(option1);\r\n                this.line_chart2.setOption(option2);\r\n                this.line_chart3.setOption(option3);\r\n                this.line_chart4.setOption(option4);\r\n            },\r\n            get_date(){\r\n                //\u83b7\u53d6\u8f6e\u64ad\u7684\u9891\u7387\r\n                ve.get_time_interval();\r\n                axios.post(\'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'home_page/get_time/\').then((res)=>{\r\n                    ve.now_date_time = res.data[\'time_date\']\r\n                    ve.now_date_name = res.data[\'today_name\']+":"\r\n                    console.log(res.data)\r\n                })\r\n            },\r\n            get_monitor_scene_item(){\r\n                axios.post(\'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'home_page/select_all/\').then((res)=>{\r\n                    let result = ve.sort_scene(res.data.results)\r\n                    this.system_run_data = result;\r\n                })\r\n            },\r\n            sort_scene(scene_list){//\u6267\u884c\u573a\u666f\u6392\u5e8f\r\n                if(scene_list <= 1){\r\n                    return scene_list;\r\n                }\r\n                //\u5192\u6ce1\u6392\u5e8f\r\n                for(var i=0;i<scene_list.length;i++){\r\n                    for(var j=0;j<scene_list.length-1-i;j++){\r\n                        if(scene_list[j].sort > scene_list[j+1].sort){\r\n                            let temp = scene_list[j];\r\n                            scene_list[j]=scene_list[j+1];\r\n                            scene_list[j+1]=temp\r\n                        }\r\n                    }\r\n                }\r\n                return scene_list;\r\n            },\r\n            get_alert_data(){\r\n                var opt={}\r\n                opt["alertLevel"]=ve.alertTypeVal;//\u7ea7\u522b\r\n                var time_opt = ve.alertTimeVal*1000*60 ;//\u8f6c\u5fae\u79d2\r\n                time_opt = (new Date()).getTime()-time_opt;\r\n                opt["alertTime"] = time_opt;\r\n                axios({\r\n                    method: \'post\',\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'home_page/scenes_alert/\',\r\n                    data:opt,\r\n                }).then((res)=>{\r\n                    if (res.data.results == \'n\'){\r\n                        this.$message.error("\u6b64\u5c97\u4f4d\u6ca1\u6709\u573a\u666f!")\r\n                    }else{\r\n                        ve.percentage=res.data[\'bing_res\'].last_score;\r\n                        if(ve.percentage){\r\n                            //\u7ed9\u5065\u5eb7\u5ea6\u63cf\u8272\r\n                            if(ve.percentage >= 90 && ve.percentage< 100){\r\n                                $("#health_degree").find(".el-progress-circle__path").attr("stroke","#E6A23C");\r\n                            }else if(ve.percentage < 90){\r\n                                $("#health_degree").find(".el-progress-circle__path").attr("stroke","red");\r\n                            }else{\r\n                                $("#health_degree").find(".el-progress-circle__path").attr("stroke","#409EFF");\r\n                            }\r\n                        }\r\n                        ve.alert_number=res.data[\'bing_res\'].alert_count;\r\n                        //\u5f6d\u82f1\u6770 start 20190511\r\n                        ve.alert_table_data=res.data[\'alert_data\'];\r\n                       // if(ve.alert_table_data.length>0){\r\n                       //     $("#alert_temp").find("div[role=\'button\']")[0].click();\r\n                       // }\r\n                        ve.options1=[]\r\n                        if(res.data["sences_list"].length>0){\r\n                            for(var i=0;i<res.data["sences_list"].length;i++){\r\n                                 var dto = res.data["sences_list"][i];\r\n                                 var dt={};\r\n                                 dt["label"] =dto.scene_type_name;\r\n                                 dt["value"] = dto.scene_type_id;\r\n                                 dt["startTime"] = dto.start_time;\r\n                                 dt["stopTime"] = dto.stop_time;\r\n                                 ve.options1.push(dt);\r\n                            }\r\n                            ve.value1 = ve.options1[0].value;\r\n                        }\r\n                        //\u5f6d\u82f1\u6770 end 20190511\r\n                        ve.scene_chart_data=[\r\n                            {value:res.data[\'bing_res\'].danger_scene, name:\'\u5371\u9669\'},\r\n                            {value:res.data[\'bing_res\'].will_scene, name:\'\u9884\u8b66\'},\r\n                            {value:res.data[\'bing_res\'].safe_scene, name:\'\u6b63\u5e38\'},\r\n                        ];\r\n                        ve.show_ring_chart();\r\n                    }\r\n                })\r\n            },\r\n            scene_content_change(value) {\r\n                axios({\r\n                    method: \'post\',\r\n                    url:\'\',\r\n                    data:{\r\n                        data:value\r\n                    }\r\n                }).then(function (res) {\r\n                    let selector = \'.scene_flow_content\';\r\n                    let base_list = res.data.base_list;  //\u83b7\u53d6\u5f53\u524d\u573a\u666f\u7684\u57fa\u672c\u76d1\u63a7\u9879\u6570\u636e\r\n                    let flow_list = res.data.flow_list;  //\u83b7\u53d6\u5f53\u524d\u573a\u666f\u7684\u6d41\u7a0b\u76d1\u63a7\u9879\u6570\u636e\r\n                    $(selector).html(\'\');    //\u521d\u59cb\u5316\u573a\u666f\r\n                    for (let i = 0; i < base_list.length; i++) {\r\n                        //\u6dfb\u52a0\u4e00\u4e2adiv\u5bb9\u5668\uff0c\u5f62\u5982<div type="basic1"></div>\r\n                        $(selector).append(\'<div type=\\"basic\' + base_list[i].id + \'\\" style=\\"position: absolute;top:\' + base_list[i].y + \'px;left:\' + base_list[i].x + \'px;transform: scale(\' + base_list[i].scale + \')\\"></div>\');\r\n                        //\u8c03\u7528\u57fa\u672c\u76d1\u63a7\u9879\u7684\u6e32\u67d3\u65b9\u6cd5,\u7b2c\u4e00\u4e2a\u53c2\u6570\u5bf9\u5e94\u5bb9\u5668div\u7684type\r\n                        base_monitor_active(base_list[i].id, base_list[i].font_size, base_list[i].height, base_list[i].width,base_list[i].contents);\r\n                    }\r\n                    for (let i = 0; i < flow_list.length; i++) {\r\n\r\n                        let jion_id = [{\r\n                            "id": flow_list[i].jion_id\r\n                        }];\r\n                        //\u6dfb\u52a0\u4e00\u4e2adiv\u5bb9\u5668,\u5f62\u5982<div><div id="flow1_1"></div></div>\r\n                        $(selector).append(\'<div class=\\"flow_monitor\\" type=\\"\'+flow_list[i].id+\'\\" style=\\"position: absolute;top:\' + flow_list[i].y + \'px;left:\' + flow_list[i].x + \'px;transform: scale(\' + flow_list[i].scale + \')\\"><div type=\\"flow_monitor\' + value + \'_\' + flow_list[i].order + \'\\"></div></div>\');\r\n                        //\u8c03\u7528\u6d41\u7a0b\u76d1\u63a7\u9879\u7684\u6e32\u67d3\u65b9\u6cd5\uff0c\u7b2c\u4e00\u6761\u53c2\u6570\u5fc5\u987b\u4e3a[{}]\u683c\u5f0f\uff0c\u7528\u6765\u8c03v3\u63a5\u53e3\uff0c\u7b2c\u4e8c\u6761\u53c2\u6570\u5bf9\u5e94\u5bb9\u5668\u5185\u90e8div\u7684id\r\n                        flow_monitor(jion_id, value + \'_\' + flow_list[i].order);\r\n                    }\r\n                })\r\n            },\r\n            //\u81ea\u5b9a\u4e49\u67e5\u8be2\u6570\u636e\u5206\u9875\u83b7\u53d6\r\n                customQueryPageChange: function (page) {\r\n                    var data = {\r\n                        search: "",\r\n                        page: page,\r\n                        limit: 5\r\n                    };\r\n                    axios({\r\n                        method: \'post\',\r\n                        url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'custom_query/select_queries_pagination\',\r\n                        data: data\r\n                    }).then((res) => {\r\n                        this.customQueryTableData = res.data.items;\r\n                      //  this.queryCount = res.data.pages;\r\n                       // this.currentPage = page;\r\n                       // if (page > res.data.pages) {\r\n                       //     this.currentPage = res.data.pages;\r\n                      //  }\r\n                    }).catch((res) => {\r\n                     //   loading.close();\r\n                        var msg = \'\u81ea\u5b9a\u4e49\u67e5\u8be2\u4fe1\u606f\u52a0\u8f7d\u5931\u8d25\uff01\';\r\n                        this.customQueryPopupErrorMessage(msg + res);\r\n                    });\r\n                },\r\n                //\u5f39\u51fa\u9519\u8bef\u4fe1\u606f\r\n                customQueryPopupErrorMessage: function (msg) {\r\n                    this.$notify.error({\r\n                        title: \'\u9519\u8bef\',\r\n                        message: msg\r\n                    });\r\n                }\r\n                ,\r\n            query_scene_data:function(){\r\n                var para_data={};\r\n                para_data["item_type"] = ve.value2;\r\n                para_data["scene_type"] = ve.value1;\r\n                for(var i=0;i<ve.options1.length;i++){\r\n                    if(ve.options1[i].value === ve.value1){\r\n                        para_data["startTime"] = ve.options1[i]["startTime"];\r\n                        para_data["stopTime"] = ve.options1[i]["stopTime"];\r\n                        break;\r\n                    }\r\n                }\r\n                $.ajax({\r\n                    url:"')
        __M_writer(unicode(SITE_URL))
        __M_writer(u'home_page/scenes_item_list",\r\n                    data: para_data,\r\n                    type:"post",\r\n                    dataType:"json",\r\n                    success:function(data){\r\n                        if(data.message.length>0){\r\n                             ve.scene_table_data = data.message\r\n                        }else{\r\n                            ve.scene_table_data =[]\r\n                        }\r\n\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    });\r\n    ve.get_date();\r\n    ve.get_monitor_scene_item();\r\n    ve.get_alert_data();\r\n    ve.query_scene_data();\r\n    ve.time_task()//\u521d\u59cb\u542f\u52a8\u5b9a\u65f6\u4efb\u52a1\r\n    //ve.customQueryPageChange(1);\r\n    //ve.show_line_chart();\r\n</script>\r\n\r\n</html>')
        return ''
    finally:
        context.caller_stack._pop_frame()


"""
__M_BEGIN_METADATA
{"source_encoding": "utf-8", "line_map": {"16": 0, "23": 1, "24": 6, "25": 6, "26": 7, "27": 7, "28": 8, "29": 8, "30": 9, "31": 9, "32": 10, "33": 10, "34": 11, "35": 11, "36": 12, "37": 12, "38": 13, "39": 13, "40": 14, "41": 14, "42": 16, "43": 16, "44": 18, "45": 18, "46": 20, "47": 20, "48": 21, "49": 21, "50": 22, "51": 22, "52": 23, "53": 23, "54": 24, "55": 24, "56": 455, "57": 455, "58": 709, "59": 709, "60": 716, "61": 716, "62": 745, "63": 745, "64": 830, "65": 830, "66": 865, "67": 865, "73": 67}, "uri": "./main/maintenanceIndex.html", "filename": "C:/Users/X230/PycharmProjects/LanhuSaas/framework/templates/main/maintenanceIndex.html"}
__M_END_METADATA
"""
